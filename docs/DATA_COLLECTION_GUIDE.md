# ワッシャー欠陥画像収集ガイド

## 目的
学習データを収集するために、実際にワッシャーに欠陥をつけて写真を撮影する方法を説明します。

## 準備

### 必要なもの
1. **ワッシャー**（複数枚用意）
2. **カメラ**（USBカメラ、Webカメラなど）
3. **照明**（できるだけ均一な光）
4. **作業台**（ワッシャーを置く場所）

### 欠陥の作り方

#### 1. **傷（Scratch）を作る**
- 方法：やすり、ドライバー、ナイフなどで表面に線状の傷をつける
- バリエーション：
  - 細い傷
  - 太い傷
  - 深い傷
  - 浅い傷
  - 複数の傷

#### 2. **欠け（Chipping）を作る**
- 方法：ハンマー、プライヤーなどでエッジ部分を欠かせる
- バリエーション：
  - 小さな欠け
  - 大きな欠け
  - エッジの欠け
  - 表面の欠け

#### 3. **黒点（Black Spot）を作る**
- 方法：マジック、ペン、汚れ、シミなど
- バリエーション：
  - 小さな点
  - 大きなシミ
  - 複数の点

#### 4. **凹み（Dent）を作る**
- 方法：軽く押しつける、重いものを載せるなど
- バリエーション：
  - 小さな凹み
  - 大きな凹み
  - 浅い凹み
  - 深い凹み

#### 5. **歪み（Distortion）を作る**
- 方法：熱を加える、無理に曲げるなど
- バリエーション：
  - わずかな歪み
  - 大きな歪み
  - 部分的歪み

## 撮影手順

### ステップ1: ツールを起動

```bash
python inspectors/fundamental_fix_inspector.py
```

### ステップ2: カメラ設定
- カメラが接続されていることを確認
- ワッシャーが画面に映るように配置

### ステップ3: 欠陥を選択モードで撮影

1. **Mキー**を押して選択モードを開始
2. **マウスで4点**をクリックして欠陥領域を選択
   - 欠陥部分を囲むように4点をクリック
   - 順番は問いません（自動的に矩形に変換されます）
3. **対応する数字キー**を押して保存：
   - **1キー**: 良品（good）
   - **2キー**: 黒点（black_spot）
   - **3キー**: 欠け（chipping）
   - **4キー**: 傷（scratch）
   - **5キー**: 凹み（dent）← 修正必要
   - **6キー**: 歪み（distortion）← 修正必要

### ステップ4: 複数の角度・照明で撮影
- 同じ欠陥でも、角度を変えて撮影
- 照明条件を変えて撮影
- 各欠陥タイプで**最低50枚以上**を目標

## 保存先

画像は以下のフォルダに自動保存されます：

```
cs_AItraining_data/resin/
  ├── good/good_extra_training/
  ├── black_spot/black_spot_extra_training/
  ├── chipping/chipping_extra_training/
  ├── scratch/scratch_extra_training/
  ├── dent/dent_extra_training/       ← 新規
  └── distortion/distortion_extra_training/  ← 新規
```

## 撮影のコツ

### 良い画像を撮るために
1. **均一な照明**：影が少ない環境
2. **焦点を合わせる**：欠陥がはっきり見えるように
3. **背景を統一**：できるだけ同じ背景で撮影
4. **大きさを統一**：ワッシャーが画面の中央に来るように
5. **バリエーション**：様々な状態の欠陥を撮影

### 避けるべきこと
- ぼやけた画像
- 極端に明るい/暗い画像
- 欠陥が画面外の画像
- 重複した画像（全く同じもの）

## 最低枚数の目安

- **良品（good）**: 既存データあり（1,144枚）
- **黒点（black_spot）**: 既存データあり（88枚）+ 追加推奨
- **欠け（chipping）**: 既存データあり（117枚）+ 追加推奨
- **傷（scratch）**: 既存データあり（112枚）+ 追加推奨
- **凹み（dent）**: 50枚以上（既に50枚あり）
- **歪み（distortion）**: 50枚以上（既に50枚あり）

## トラブルシューティング

### カメラが認識されない
- USBポートを確認
- 他のアプリでカメラを使用していないか確認
- カメラIDを変更してみる（0, 1, 2など）

### 画像が保存されない
- フォルダの書き込み権限を確認
- ディスク容量を確認

### 選択がうまくいかない
- マウスで確実に4点クリック
- 欠陥を囲むようにクリック



















