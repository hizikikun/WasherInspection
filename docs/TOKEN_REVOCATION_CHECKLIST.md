# 🚨 トークン無効化チェックリスト

## ⚠️ 緊急対応

### ステップ1: 漏洩したトークンを特定

画像に表示されている「Cursor GitHub Integration」トークンが、漏洩したトークンかどうかを確認してください。

**確認方法:**
1. そのトークンをクリックして詳細を確認
2. 作成日時を確認
3. 漏洩したトークン (`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`) と一致するか確認

### ステップ2: トークンを削除

**画像のトークンを削除する場合:**
1. 右側の「Delete」ボタンをクリック
2. 確認ダイアログで削除を承認

**重要:** 他の場所で使用している可能性があるため、削除前に確認してください。

### ステップ3: 新しいトークンを作成（必要に応じて）

1. 「Generate new token」ボタンをクリック
2. 「Generate new token (classic)」を選択
3. トークン名を設定（例：「Cursor GitHub Integration New」）
4. **有効期限を設定**（重要！）
   - 30日、60日、90日など、適切な期間を設定
   - 「No expiration」は避ける
5. 必要なスコープのみを選択：
   - `repo`（リポジトリへのアクセス）
   - その他、必要最小限のみ
6. 「Generate token」をクリック
7. **表示されたトークンをすぐにコピー**（2度と表示されません）
8. 安全な場所に保存（設定ファイルや環境変数に設定）

### ステップ4: ローカル設定を更新

新しいトークンで設定ファイルを更新：

```bash
# config/cursor_github_config.json を編集
# github_token を新しいトークンに変更
```

### ステップ5: 漏洩確認

プッシュが成功したかどうか確認：

```
https://github.com/hizikikun/WasherInspection/commits
```

もしトークンがコミット履歴に含まれている場合、以下の対応を検討：

1. **BFG Repo-Cleaner** を使用して履歴から削除
2. または、リポジトリをPrivateに設定（一時的な対策）

## 📋 セキュリティチェックリスト

- [ ] 古いトークンを削除/無効化
- [ ] 新しいトークンを作成（有効期限付き）
- [ ] ローカル設定を更新
- [ ] `.gitignore` が正しく設定されている（✓ 既に実施済み）
- [ ] プッシュ状態を確認
- [ ] コミット履歴にトークンが含まれていないか確認
- [ ] リポジトリがPrivateかPublicか確認

## ⚠️ 重要な注意事項

1. **「No expiration」トークンは危険**
   - 画像で警告が出ている通り、有効期限のないトークンはセキュリティリスクが高い
   - 新しいトークンを作成する際は、必ず有効期限を設定してください

2. **トークンは再利用しない**
   - 一度漏洩したトークンは、絶対に使用しないでください
   - 必ず新しいトークンを作成してください

3. **最小権限の原則**
   - 必要な権限のみを付与
   - 全権限を付与しない

## 🔍 漏洩したトークンの確認

漏洩した可能性のあるトークン：
```
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
```

このトークンが画像の「Cursor GitHub Integration」トークンと一致する場合は、**すぐに削除**してください。

